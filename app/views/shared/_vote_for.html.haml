- rating = votable.plusminus
- css_prefix = (rating >= 0) ? "pic_vote_positive" : "pic_vote_negative"
- user_vote = current_user.get_vote(votable) if current_user

- path = new_vote_polymorphic_path votable
- complaint_path = new_complaint_polymorphic_path votable

%div(class="pic_vote #{css_prefix}")
  .pic_vote__up
    = form_tag path, remote: !current_user.nil? do 
      = hidden_field_tag :sign, "up"
      = button_tag "", {class: "icon-thumbs-up ui-link", type: "submit"}
  .pic_vote__count
    = rating
  .pic_vote__down
    = form_tag path, remote: !current_user.nil? do 
      = hidden_field_tag :sign, "down"
      = button_tag "", {class: "icon-thumbs-down ui-link"}
  .pic_vote__spam
    = link_to "", complaint_path, {class: "icon-flag ui-link", title: "Пожаловаться", target: :blank }
